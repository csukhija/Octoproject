<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="{{ STATIC_URL }}/static/images/shared/akamai.png" type="image/x-icon" />

<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title></title>
  <script type="text/javascript" src="{{ STATIC_URL }}/static/js/jquery/jquery.min-1.12.js"></script>
  <script type="text/javascript" src="{{ STATIC_URL }}/static/js/jquery/ISPP.js"></script>
  <script type="text/javascript" src="{{ STATIC_URL }}/static/js/jquery/bootstrap.min.js"></script>

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<link rel="stylesheet" href=" {{ STATIC_URL }}/static/css/screen.css" type="text/css" media="screen" title="default" />
<link rel="stylesheet" href=" {{ STATIC_URL }}/static/css/bootstrap.min.css" type="text/css" media="screen" />
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.11/css/dataTables.bootstrap.min.css">

<script type="text/javascript" language="javascript" src="//code.jquery.com/jquery-1.12.0.min.js">
	</script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js">
	</script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.11/js/dataTables.bootstrap.min.js">				
</script>
<style>


a:hover{
    cursor: pointer;
}


.iframe-placeholder
{
   background: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100% 100%"><text fill="%233399ff" x="50%" y="50%" font-family="\'Lucida Grande\', sans-serif" font-size="24" text-anchor="middle"> <center><div id="loader2" ><span style="color:lightblue" class="glyphicon glyphicon-refresh glyphicon-spin blue"></span></div></center> Loading ...</text></svg>') 0px 0px no-repeat;
}
/* enable absolute positioning */
.inner-addon {
  position: relative;
}

/* style glyph */
.inner-addon .glyphicon {
  position: absolute;
  padding: 0px;
  pointer-events: none;
}

/* align glyph */
.left-addon .glyphicon  { left:  10px;}
.right-addon .glyphicon { right: 10px;}
.right-addon .glyphicon { top: -12px;}

/* add padding  */
.left-addon input  { padding-left:  30px; }
.right-addon input { padding-right: 30px; }


/* Center the loader */
.fa-spin-custom, .glyphicon-spin {
    -webkit-animation: spin 1000ms infinite linear;
    animation: spin 1000ms infinite linear;
    font-size: 100px;
}
@-webkit-keyframes spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
@keyframes spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}




/* Add animation to "page content" */
.animate-bottom {
  position: relative;
  -webkit-animation-name: animatebottom;
  -webkit-animation-duration: 1s;
  animation-name: animatebottom;
  animation-duration: 0.5s
}

@-webkit-keyframes animatebottom {
  from { bottom:-100px; opacity:0 } 
  to { bottom:0px; opacity:1 }
}

@keyframes animatebottom { 
  from{ bottom:-100px; opacity:0 } 
  to{ bottom:0; opacity:1 }
}

#outputbox1 {
  text-align: center;
}
</style>
</head>
<body id="body1"> 
<!--  start - script .....................-->
<script>
function geturl(c){
	var x = document.getElementById("playcontext").value+c;
	document.getElementById("playlink").value=c;
	var authpsw=document.getElementById("authpsw").value;
	url='http://demo.octoshape.com/arplayer3/?link='+x+'&psw='+authpsw
	document.getElementById("urlstream").src=url
	
	}
function getauth(){
	var c=document.getElementById("playlink").value;
	var authpsw=document.getElementById("authpsw").value;	
	url='http://demo.octoshape.com/arplayer3/?link='+document.getElementById("playcontext").value+c+'&psw='+authpsw
	document.getElementById("urlstream").src=url

	}
</script>
<script>
$('#mastermodal').on('hidden', function(){
	  $.clearFormFields(this)
	});

</script>
<script type="text/javascript">
function doPut()
	{
	alert("");
		document.getElementById("searchbtn").innerHTML ="Sending ... ";
                    $.ajax({
                        url : "/ajaxemail/", 
                        type : "POST",
                        data : {
                            csrfmiddlewaretoken: '{{ csrf_token }}',
                            output : "nesssw"
                            },
                        success : function(json) {
                        	alert('mail sent');
                            $('#searchbtn').html(json.message);
                        },
                    
                    });
        
	};
</script>
<script>	
function geturlmaster(c){
	var x = document.getElementById("playcontext").value+c;
	document.getElementById("masterlink").value=c;
	url='/master/'+c
	document.getElementById("masterstream").src=url
	}
	
</script>
<script>	
function clearframe(){
	document.getElementById("masterstream").src=""
	document.getElementById("urlstream").src=""
	}
	
</script>
<script>
$(document).ready(function() {
    $('#product').DataTable();
   
} );
</script>

	<script>
	{% if not user.is_superuser %}
	document.getElementById("editstreamtype").disabled=true
	document.getElementById("editpublish").disabled=true
	document.getElementById("editmaxbr").disabled=true
	document.getElementById("editinview").disabled=true
	{% endif %}
	</script>

<script>
function editstream(x)
{		    if ( confirm('You are about to edit the stream'+x+')== true'){} 
		    else 		    
		    {document.getElementById("searchresult").innerHTML ="Action Canceled. Try Again";  }}
</script>

 <script type="text/javascript">
		var x = 'octoshape://opsqa.octoshape.org/'+document.getElementById('Holgerinp').value;
		
		document.getElementById('streamurl').value=x;
		
        var player_id = "player";
        var player_width = 412;
        var player_height = 288;

        var player_streams = [
        	{
        		id: 'my_stream',
				stream: x
        	}
        ];

        //optional. starts the stream when the player is ready
        var player_stream = "my_stream";
        var params = {allowFullScreen: true, scale: 'noscale', allowScriptAccess: 'always'};
        var attributes = {id: player_id, name: player_id};
	    swfobject.embedSWF('http://octoshape-a.akamaihd.net/eps/players/infinitehd4/player.swf', player_id, player_width, player_height, "10.2.0", null, null, params, attributes);
	
</script>




		<script>
		document.getElementById('realtxt').onkeyup = searchSel;
		function searchSel() 
		    {
		      var input = document.getElementById('realtxt').value.toLowerCase();
		       
		          len = input.length;
		          output = document.getElementById('custname').options;
		      for(var i=0; i<output.length; i++)
		          if (output[i].text.toLowerCase().indexOf(input) != -1 ){
		          output[i].selected = true;
		              break;
		          }
		      if (input == '')
		        output[0].selected = true;
		    }
		</script>	
		
		<script>
function FunctionValidateBitrate() 
{
    var inp = document.getElementById("maxbr");
    if (inp.value){

    if(!/^[0-9]+(,[0-9]+)*$/.test(inp.value))
    {        alert('Invalid value detected in Max Bitrate in k:');
        return false;  }   
    br= inp.value.split(",")   
        {% if not user.is_superuser %}
    	if (br.length>8)
    	{			alert('Upto 8 Bitrates allowed, you entered '+br.length+' bitrates.');
			return false;
    	}    
    	{% endif %}
    for (i in br)
    {
    	{% if not user.is_superuser %}
			if (br[i]>5000)
			{
				alert('Bitrate cant be greater than 5000, you entered '+br[i]);
				return false;
			}
		{% endif %}
		if (br[i]<64)
				{
				alert('Bitrate cant be less than 64, you entered '+br[i]);
				return false;
				}          
    }
    }   
    return true;
}
</script>


		<script>
		function SubmitValidate() 
		{
			if ( FunctionValidateBitrate())				
				{

				{% if user.quota > 9 %}				 
				 document.getElementById("createstreambtn").disabled=true		  
				 {% endif  %}
				Confirm();
			
				}	    
		}
		</script>
		
		
		
<script>	
if({{ flag1|safe }}!=1)
	alert(' Error occured. Please Check values !');
else
alert('Stream has been added sucessfully.');
</script>





<script>
function GetaspectFilter(){
		var listbox = document.getElementById("aspectname");
		var selIndex = listbox.selectedIndex;
		var selValue = listbox.options[selIndex].text;
		document.getElementById("aspectnamenew").value=selValue;
		document.getElementById("aspectvalue").value = document.getElementById("aspectname").value;
}
</script>
<script>
function FunctionLower() {
    var x = document.getElementById("newcustname");
    x.value = x.value.toLowerCase();
}
</script>




<script>
function randomPassword(length) {
    var chars = "abcdefghkmnpqrstuvwxyzABCDEFGHJKMNP2345678";
    var pass = "";
    for (var x = 0; x < length; x++) {
        var i = Math.floor(Math.random() * chars.length);
        pass += chars.charAt(i);
    }
    return pass;
}

function generate() {
    addcust.row_password.value = randomPassword(addcust.length.value);
}
function generateopt() {
    addstream.streampwdopt.value = randomPassword(addcust.length.value);
}
</script>

<script>
function Confirmnewcust() {
    var x;   
    if ( confirm("Are you sure  ?")== true) {
    	document.getElementById("createcustbtn").type ="Submit";
        x = "You pressed OK ! ";       
    } 
    else 
    
    {
    	document.getElementById("createstreambtn").type ="Cancel";   	
        x = "You pressed Cancel!";     
    }
    document.getElementById("statuscust").innerHTML = x;
}
</script>




<script>
function Confirm() {
    var x;
    
    if ( confirm("Are you sure !")== true) {
    	document.getElementById("createstreambtn").type ="Submit";
        x = "You pressed OK ! Creating new stream.. ";
        
    } 
    else 
    
    {
    	document.getElementById("createstreambtn").type ="Cancel";
    	
        x = "You pressed Cancel!";
        
    }
    document.getElementById("status").innerHTML = x;
}
</script>	





<script type="text/javascript">
	function getme()
	{
                    $.ajax({
                        url : "/ajax/", 
                        type : "POST",
                        data : {
                            csrfmiddlewaretoken: '{{ csrf_token }}',
                            forminput1 : $('#forminput1').val()
                            },
                        success : function(json) {
                            $('#result').html(json.message);
                        },
                    
                    });
        
	};
</script>
<!--  stop - script .....................-->


<!-- Start: page-top-outer -->
<div id="page-top-outer">    

<!-- Start: page-top -->
<div id="page-top">

	<!-- start logo -->
	<div id="logo">
	<a href="/Holger/"><img src="{{ STATIC_URL }}/static/images/shared/logo.png" width="156" height="40" alt="" /></a>
	</div>
	<!-- end logo -->
<div id="top-search">
<font size="1" color="white">User &nbsp;:&nbsp; {{ request.user.first_name }}  </font>
			{% if user.is_superuser %}
   			<font size="1" color="green">(Full Access) &nbsp;&nbsp;</font>
			{% else %}
   			 <font size="1" color="green">(Limited Access) &nbsp;&nbsp;</font>
   		<font size="1" color="white">	 Credits &nbsp;{{ user.user_quota }}&nbsp;</font>
			{% endif %}	 
</div>
<div id="top-search">
<div class="clear"></div>
{% if user.is_superuser %}	
<form id="topsearch" target="_blank" method="post" action="/search/">
{% csrf_token %}
		<table  border="0" cellpadding="0" cellspacing="0">
		<tr>
		<td><input height="1" type="text" name="searchstring" value="jonasl/live/std/*"  onblur="if (this.value=='') { this.value='jonasl/live/std/*'; }" onfocus="if (this.value=='jonasl/live/std/*') { this.value=''; }" class="top-search-inp" /></td>
		<td>
		 
		<select hidden name="aspect" id="aspect" class="">
			<option value="">All</option>
			<option value="?aspects=livebase-pushed">Live</option>
			<option value="">CPCode</option>
			<option value="?aspects=customer">Customer</option>
			<option disabled value="?aspects=ond">VOD</option>
			
		</select> 
		 
		</td>
		
		<td>
		
		<input target="_blank" type="submit" value="Submit" src="{{ STATIC_URL }}/static/images/shared/top_search_btn.gif"  />
</form>
		</td>
		 {% endif  %}
		</tr>
		</table>
	</div>
 	<!--  end top-search -->
 	<div class="clear"></div>

</div>
<!-- End: page-top -->

</div>
<!-- End: page-top-outer -->
	
<div class="clear">&nbsp;</div>
<!--  start nav-outer-repeat................................................................................................. START -->
<div class="nav-outer-repeat"> 
<!--  start nav-outer -->
<div class="nav-outer"> 

		<!-- start nav-right -->
		<div id="nav-right">

			<div class="clear">&nbsp;</div>

			<a href="/signout" id="logout"><img src="{{ STATIC_URL }}/static/images/shared/nav/nav_logout.gif" width="64" height="14" alt="" /></a>
			<div class="clear"></div>
		
			<!--  start account-content -->	
			<div class="account-content">
			<div class="account-drop-inner">
				<a href="" id="acc-settings">Settings</a>
				<div class="clear">&nbsp;</div>
				<div class="acc-line">&nbsp;</div>
				<a href="" id="acc-details">Personal details </a>
				<div class="clear">&nbsp;</div>
				<div class="acc-line">&nbsp;</div>
				<a href="" id="acc-project">Project details</a>
				<div class="clear">&nbsp;</div>
				<div class="acc-line">&nbsp;</div>
				<a href="" id="acc-inbox">Inbox</a>
				<div class="clear">&nbsp;</div>
				<div class="acc-line">&nbsp;</div>
				<a href="http://octoshape.com/stats/index.php" target="_blank" id="acc-stats">Statistics</a> 
			</div>
			</div>
			<!--  end account-content -->
		
		</div>
		<!-- end nav-right -->


		<!--  start nav -->
		<div class="nav">
		<div class="table">
		
		
		
		<div class="nav-divider">&nbsp;</div>

</div>

		
		
		</li>
		</ul>
	
	
		<div class="clear"></div>
		</div>
		<div class="clear"></div>
		</div>
		<!--  start nav -->

</div>
<div class="clear"></div>

<div id="content">

<div class="container">

  <ul class="nav nav-tabs">
  <li class="active"><a data-toggle="tab" href="#StreamSearch">Stream Search</a></li>
   {% if user.is_superuser or user.is_staff %}
  
  
    <li ><a data-toggle="tab" href="#CreateStream">Create Stream</a></li>
     {% endif  %}
     {% if user.is_superuser  %}
     
    <li><a data-toggle="tab" href="#ModifyStream">New Customer</a></li>
    {% endif  %}
  </ul>

<div class="tab-content">

      <div id="StreamSearch" class="tab-pane fade in active">

      <h3>	&nbsp;	&nbsp; Stream Search</h3>
   {% if streamexisterr %} 
  <div class="alert alert-danger fade in">
   <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong>{{ streamexisterr }}</strong> <p></p>
</div>
 {% endif  %}
    {% if passoverwriteerr %} 
  <div class="alert alert-danger fade in">
   <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong>{{ passoverwriteerr }}</strong> <p></p>
</div>
 {% endif  %}
    
  {% if deletstream %} 
  <div class="alert alert-danger fade in">
   <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong>{{ deletstream }}</strong> <p></p>
</div>
 {% endif  %}

     {% if abrupdatestatus %} 
  <div class="alert alert-success fade in">
   <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong>{{ abrupdatestatus }}</strong> <p></p>
 
</div>
 {% endif  %}    
      
    {% if erroredit %} 
  <div class="alert alert-danger fade in">
   <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong>{{ erroredit }}</strong> <p></p>
 
</div>
 {% endif  %}    
      
     {% if Newcustcreated %}
   


  <p>

</p>

  <div class="alert alert-success fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>New Customer has been created ! !</strong>
    
<table >
  
   {% for stream in Newcustcreated %}
    <tr>
    
      <td><p ><font color="green">{{ stream }}</font></p> </td>
       
    </tr>
     {% endfor  %}

</table>
  </div>   
 
      {% endif  %}
      
       {% if streamupdate %}
  <p>
</p>

  <div class="alert alert-success fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    
    
<table >
   {% for stream in streamupdate %}
    <tr>
    <strong>{{ stream }}</strong> has been updated
      
       
    </tr>
     {% endfor  %}

</table>
    
  </div>
{% endif  %}     
      {% if streamcreation %}
  <p>
</p>

  <div class="alert alert-success fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>The Streams have been created ! !</strong>
    
<table >
   {% for stream in streamcreation %}
    <tr>
    
      <td><p  ><font color="green">{{ stream }}</font></p> </td>
       
    </tr>
     {% endfor  %}

</table>

  </div>
{% endif  %}		
<div id="searchfield">


<script>
function searchbtn()
{	
	document.getElementById("loader2").hidden=false;
	document.getElementById("outputbox1").hidden=true;
	document.getElementById("searchbtn").innerHTML ="Searching ... ";  
	
}
</script>
	<br>
 <form onsubmit="searchbtn()"  method="post" action="/Holger/">
      {% csrf_token %}
      <td>
 <div style="color:lightgrey" class="inner-addon right-addon">
      <h3 class="glyphicon glyphicon-search blue"></h3>   
<input  class="biginput" onblur="this.placeholder='Search ISPP or type URL'"  onfocus="this.placeholder=''" placeholder="Search ISPP or type URL "  value="{{ streamviewname }}" type="text"  id="Holgerinp" name="Holgerinp"></input>
</div>
<a data-toggle="tooltip"  data-placement="right" title="eg. digiturk or digiturk/ch1 ">  what is this ? </a>
   <input hidden id="button" type="button" onclick="getme1()" value="click me"></input>

</td>
 <p id="searchbtn"  > Type Customer name or prefix and press Enter   </p>
	
</form>

   <div  id="outputbox1"> 
    
  <table id="myTable" class="display table" border="1" width="100%" cellpadding="0" cellspacing="0" id="content-table">

	

		 {% if streamlist %}
<!--  start -table .....................-->
<form id="mainform" action="">
{% csrf_token %}
<div class="table-responsive">
				<table id="product" class="display table table-bordered table table-striped" border="2" width="100%" cellpadding="0" cellspacing="0" >
				 <thead >  
          				<tr>  
            <th>Stream Name</th>  
            <th>Aspect</th>  
            <th>CPcode</th> 
            <th>Bit Rate</th> 
            <th>Stream Type</th> 
            <th>Publishable</th> 
            <th>Password</th> 
            {% if user.is_superuser or user.is_staff %} 
<!--         	<th> Edit</th> -->
<!--         	<th>*Delete*</th> -->
        	<th>*Options*</th>
        	{% endif  %}  
          </tr>  
        </thead>  
			 <tbody>  

  {% endif  %} 
{% for stream in streamlist %}
			
				<tr  class="alternate-row">
<!-- 					<td><input  type="checkbox"/></td> -->
					<td  id="{{ stream.name }}" onclick="geturlmaster('{{  stream.name  }}')" target="_blank" data-dismiss="modal" data-toggle="modal" data-target="#mastermodal"  > <a > {{ stream.name }}</a></td>
					<td>{{ stream.aspect }}</td>
					<td><font color="brown">{{ stream.cpcode }}</font></td>
					<td>{% if stream.bitrate %}{% widthratio stream.bitrate 1000 1  %}k{% endif %} </td>
					<td>{% if stream.streamtype != None %}{{ stream.streamtype }}{% endif %}</td>
					<td> {% if stream.publish == 1 %}True{% endif %}{% if stream.publish == 0 %}False{% endif %}</td>
					<td>{% if stream.password != None %}{{ stream.password }}{% endif %}</td>
				            {% if user.is_superuser or user.is_staff %} 

					
					<td>
			
	<div class="dropdown" >
  <a 	{% if stream.readonly %}  disabled="true" {% endif %}	type="button" style="color:maroon" class="glyphicon glyphicon-cog btn btn-default btn-sm"  data-toggle="dropdown">
  <span  class="caret"></span></a>

  
  <ul class="dropdown-menu">
<li ><a  data-toggle="modal" data-target="#myModal" href="/lstream/{{stream.name}}" name="{{ stream.name }}"  title="Edit" >		
<i style="color:black" class="glyphicon glyphicon-pencil"></i> &nbsp; Edit Stream<i class="icon-pencil"></i></a></li> 



 <li><a  data-toggle="modal" data-target="#myModal" href="/advconfig/{{stream.name}}" name="{{ stream.name }}" title="AdvConfig">
<i style="color:black" class="glyphicon glyphicon-qrcode"></i> &nbsp; Advanced Configuration</a></li>


 <li><a  data-toggle="modal" data-target="#myModal" href="/advconfig/{{stream.name}}" name="{{ stream.name }}" title="AdvConfig">
<i style="color:red	" class="glyphicon glyphicon-ban-circle"></i> &nbsp; Disable (Block) Stream</a></li>


<li><a onclick="geturl('{{  stream.name  }}')" data-toggle="modal" value="{{ stream.name }}" data-id="{{ stream.name }}" data-target="#myModalplayer" href="" name="{{ stream.name }}" title="AdvConfig">
<i style="color:blue"  class="glyphicon glyphicon-triangle-right blue"></i> &nbsp; Debug Player</a></li>


<li class="divider"></li>

    <li><a  data-toggle="modal" data-target="#myModal" href="/delstream/{{stream.name}}/{{ stream.aspect }}" name="{{ stream.name }}" title="Delete">
<i style="color:red" class="glyphicon glyphicon-trash"></i> &nbsp; Delete Stream</a></li>


  </ul>
    
</div>
	
		
		</td>
{% endif %} 
					
				</tr>

								
				{% endfor %}
				
{% for stream in streamlistabr %}
			
				<tr  class="alternate-row">
<!-- 					<td><input  type="checkbox"/></td> -->
					<td  ><a id="y" href=/lstream/{{ stream.name }} >{{ stream.name }}</a></td>
					<td>{{ stream.aspect }}</td>
					<td><font color="brown">{{ stream.cpcode }}</font></td>
					<td>{{ stream.aspect }}</td>
					
					{% if user.is_superuser %} 
					<td hidden size="20" class="options-width">
					<a name="{{ stream.name }}" onclick="putThis(this)" title="Edit" class="icon-1 info-tooltip"></a>
				<a  title="Delete" class="icon-2 info-tooltip"></a>
<!-- <!-- 					<a href="" title="Star" class="icon-3 info-tooltip"></a> --> 
<!-- <!-- 					<a href="" title="Edit" class="icon-4 info-tooltip"></a> --> 
<!-- <!-- 					<a  title="Edit" class="icon-5 info-tooltip"></a> --> 
					</td>
					{% endif %} 
				</tr>

								
	{% endfor %}
				   </tbody> 
</div> </table>



</form> 

 	 {% if bitrate %} 
 <form  method="post" action="/EditStream/">
 {% csrf_token %}
	  <table class="table">
	<tr>
	<th >Stream Name</th>  
	
	<td>
	<input hidden type=text size="40"  value="{{ streamviewname }}" id="streaminview" name="streaminview"></input>
	<input disabled type=text size="40"  value="{{ streamviewname }}" id="editinview" name="editinview"></input>
	</td>
	</tr>
	<tr>
	
		<th > Stream Type:</th> 
		<td>	
		<select id="editstreamtype" name="editstreamtype" >
			<option value="{{ streamtype }}">{{ streamtype }}</option>
			<option value="std/flv">std/flv</option>
			<option value="std/ehls">std/ehls</option>
			<option value="std/aac">std/aac</option>
			<option value="std/mpegts">std/mpegts</option>
			<option value="std/smooth">std/smooth</option>
			<option value="std/mp3">std/mp3</option>
			<option value="std/asf">std/asf</option>
		</select>
		</td>

		
		</tr>
		
		<tr>
	
		<th > Publish:</th> 
		<td>	
		<select id="editpublish" name="editpublish" >
			<option value="{{ publish }}">{{ publish }}</option>
			<option value="true">true</option>
			<option value="false">false</option>
			
		</select>
		</td>

		
		</tr>
		
		<tr>
			<th > Bitrate in k:</th>
			<td><input type="integer" value="{{ bitrate }}" id="editmaxbr" name="editmaxbr"  />
			</td>
		
		</tr>
		{% if user.is_superuser %}
		<tr>
			<th >Actual Bitrate in k:</th>
			<td><input type="integer" disabled value="{{ actualbr }}" id="romaxbr" name="romaxbr"  /><a href="" data-toggle="tooltip" data-placement="right" title="eg. 200 Please Note By default 30% will be added to bitrate  "> what is this ?</a>
			</td>
		
		</tr>
		
		<th>&nbsp;</th>
		<td >
	<input id="editstreambtn" type="submit"  value="Update Stream" />
		
		
		</td>
	
	</tr>
	{% endif %}

	</table>
	

</form>  
  	 {% endif %}
       <a name="_output" class="noa"></a>
      <div id="output" class="output"></div>
  
		 
      <div class="clear"></div>
          <div class="lfloat">
          


            
      <input hidden type="button" id="PUT" value="PUT" onclick="doPut(); return false;" /> 
       
  <input hidden type="button" id="PATCH" value="PATCH" onclick="doPatch(); return false;" /> 
  
  <input hidden type="button" id="DELETE" value="DELETE" onclick="hideHelp(); return false;" /> 
 </div>
      <div id="inputcontainer"><textarea hidden  id="text"  rows="12">{{ liss|safe }}</textarea>
     </div>    
    
      
      <!--<div class="rfloat"><input type="button" id="help" value="help" onclick="doHelp();" /></div>-->
      <div class="lfloat"><input hidden type="button" id="help" value="Create a Stream" onclick="doHelp();" /></div>
      <div class="rfloat"><input hidden Type="button" value="Go Back" onClick="history.go(-1);return true;"></div>
		
      <div class="clear"></div>
      <hr />



   
        <p></p>
      	</div>
   
   
    </div>   
    
    </div>
    
   
    
    
<div id="myModal" class="modal fade" data-backdrop="static" id="myModal"  role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
 
      <div class="modal-header">
          <button style="float: right;" data-window="external" type="button" onclick="closeModal()" class="btn btn-info" data-dismiss="modal">&times;</button>
      
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body"> 
        <p>Loading Stream Details.</p>
      <center>  <div class="loader"></div></center>
      </div>
      
      <div class="modal-footer">
        <button type="button"    class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
</div>
  </div>

  
 <div id="myModalplayer"  class="modal fade" data-backdrop="static" id="myModal" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
   </br>
      

      <div class="modal-header">
                <button style="float: right;" type="button" onclick="clearframe();" class="btn btn-info"  data-dismiss="modal">&times;</button>
      
       <center> <h4 class="modal-title">Debug Player</h4> </center> 
      </div>
      <div class="modal-body">
    Context   :<input id="playcontext" name="playcontext" size="30" value="{{ streamcontext }}"></input><br/>
     Playback Link   :<input id="playlink" name="playlink" onfocusout="geturl(this.value)"> </input><br/>
    Authorization Password   :  <input id="authpsw" name="authpsw" onfocusout="getauth()">  </input><br/>
 
      <iframe scrolling="no" id="urlstream" frameBorder="0" width="535" height="470"></iframe>
      
      
      </div>
<!--             {% if streamlist %} -->
<!--  <center><div id="player"></div>  -->
<!--  {% endif %} -->
 <br/>

  
    </div>
</div>
  </div> 
 <script type="text/javascript">
  function resizeIframe(obj){
     obj.style.height = 0;
     obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
  }
</script>
 <div id="mastermodal"  class="modal fade"  data-id="{{ stream.name }}"  data-backdrop="static" id="myModal"  role="dialog">
  <div class="modal-dialog modal-lg">

    <!-- Modal content-->
    <div class="modal-content">

      <div class="modal-header">
      
      <button style="float: right;" data-window="external" type="button" onclick="clearframe()" class="btn btn-info" data-dismiss="modal">&times;</button>
       
        <h4 class="modal-title">Master Details page</h4>
        
      </div>
      <div class="modal-body">
     Master stream   :<input size="60" id="masterlink" name="masterlink" onfocusout="geturlmaster(this.value)"> </input><br/>
 <br>

      <iframe src="" class="iframe-placeholder" id="masterstream" frameborder="0"  height=500 width="100%">
 
      </iframe>
      

      </div>
<!--             {% if streamlist %} -->
<!--  <center><div id="player"></div>  -->
<!--  {% endif %} -->
 <br/>

      <div class="modal-footer">
        <button type="button" onclick="clearframe();"  class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
</div>
  </div>  
  
    <center><div  hidden id="loader2" >
<span style="color:lightblue" class="glyphicon glyphicon-refresh glyphicon-spin blue"></span>
</div></center>




    <div id="CreateStream" class="tab-pane fade animate-bottom">
      <h3>	&nbsp;	&nbsp; 	Create Stream</h3>
      <p>
      		<div id="step-holder">
		<a name="newstream" href=""></a>
			
			<h4>Add Stream details</h4>
 
	
		</div> 
		<form name="addstream" method="post" action="/NewStream/" >
		{% csrf_token %}


	
		
		<table border="0" cellpadding="0" cellspacing="0"  id="id-form">
		<tr hidden>
		<th hidden valign="top"><br><br><br>Stream aspect:</th>
		<td>	

<br><br><br>
		<input  type="checkbox" hidden name="multi-source" id="multi-source">Multi Source</input><br>
		  <input  type="checkbox" hidden name="livebase-pushed" id="livebase-pushed" > Livebase pushed </input><br>
  			 <input  type="checkbox" hidden name="multilive"  id="multilive" > Multi Live</input><br>
  			 
	
		</td>
		<td></td>
		</tr>
	
		
		<tr>
		
		
			<th id="streamnameabrtext" hidden valign="top">Stream abr :</th>
			<td><input type="text" hidden id="streamnameabr" name="streamnameabr" class="inp-form" /></td>
			<td></td>
		</tr>
		<tr>
		
		<tr>
		<th valign="top">Customer Name:</th> 
		
		<td>	
		
		<select id="custname" name="custname" >

	{% for cust in customerlist %}
			
			<option value="{{ cust.name }}">{{ cust.name }}</option>
	{% endfor %}
		</select>
			
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text"  size="6" id="realtxt" placeholder="search" onkeyup="javascript:searchSel();" onblur="this.value=''" />

	</td>

</tr>
			<th valign="top">Stream Prefix :</th>
			<td><input type="text" required name="streamname" placeholder="live/" value="live/" class="inp-form" />
			<a href="#newstream" data-toggle="tooltip" data-placement="right" title="eg. live/ch1. live/ is the default prefix. "> what is this ?</a>
			
 
			
			
			</td>
			<td></td>
		</tr>
		<tr>
			<th valign="top">Max Bitrate in k:</th>
			<td><input required placeholder="200,300" onfocusout="FunctionValidateBitrate()" type="text" id="maxbr" name="maxbr" class="inp-form" /><a href="" data-toggle="tooltip" data-placement="right" title="eg. 200,300,500 etc.This fields allows only numbers separated by comma .Please Note By default 30% will be added to bitrate.   "> what is this ?</a>
			</td>
			<td>

			
			</td>
		</tr>
		<tr>
		<th valign="top">Stream Type:</th> 
		<td>	
		<select name="streamtype" >
			
			<option value="std/flv">std/flv</option>
			<option value="std/ehls">std/ehls</option>
			<option value="std/aac">std/aac</option>
			<option value="std/mpegts">std/mpegts</option>
			<option value="std/mp3">std/mp3</option>
			{% if user.is_superuser %}
			<option value="std/smooth">std/smooth</option>
			<option value="std/asf">std/asf</option>
			{% endif %}
		</select>
		</td>
		<td></td>
		
		</tr>
		<tr>
		<th hidden valign="top">Publish:</th>
		<td>	
		<select hidden name="publish" >
			<option value="true">True</option>
			<option value="false">False</option>
			
		</select>
		</td>
		<td></td>
		</tr> 
	
			<tr>
			<th valign="top"> Password (Optional)</th>
			
	
			
			
			<td>
			
			<input type="text" id="streampwdopt" name="streampwdopt" placeholder="password" value="" class="inp-form" />
			  <input type="button" class="button" value="Generate" onClick="generateopt();" tabindex="2">
			<a href="#newstream" data-toggle="tooltip" data-placement="right" title="eg. Optional password for stream.                 NOTE : This will override the default push password "> what is this ?</a>
			
			
			</td>
		</tr>
	
		<tr>
		
		<p hidden id="comments"></p>
		
			<th valign="top">Redundant Source:</th>
		<td>	
		<input type="checkbox" id="redundant" name="redundant" value="True">  &nbsp;&nbsp;&nbsp;
		<a href="#newstream" data-toggle="tooltip" data-placement="right" title="Check this button if you want active/active stream source
and only if redundant is requested in SOF eg. test/ch1/200k/a and test/ch1/200k/b "> what is this ?</a>
		<br>
			
		</select>
		</td>
		</tr>
	

	<tr>
			<th valign="top"> </th>
			<td>

			
			
			<td></td>
		</tr>
	

			
		
	<tr>
		
	</tr>
	<tr>
		
		
		
			<th valign="top"></th>
		<td>	
		<p id="status"> </p>
			
	
		</td>
		</tr>
	
	
	<tr>
		<th>&nbsp;</th>
		<td valign="top">
					<input  id="createstreambtn" type="button" onclick=SubmitValidate(); value="" class="form-submit" />

			<input type="reset" value="" class="form-reset"  />
		</td>
		<td></td>
	</tr>
	
	</table>

</form>
	<!-- end id-form  -->
      
      
      </p>
    </div>
    <div id="EditStream" class="tab-pane fade">
      <h3>	&nbsp;	&nbsp; 	Advanced Configuration</h3>
      <p><div class="section"> 
 
<h4>Advanced Configuration</h4>

		<form name="parametersadd" method="post" action="/advconfig/" >
	{% csrf_token %}
		<table border="0" cellpadding="0" cellspacing="0"  id="id-form">

		<tr>
		<th valign="top">Stream Name:</th> 
		<td>	
		
		
	<input type="text" required  id="streamidedit" name="streamidedit" class="inp-form" />
	
		
		</td>
</tr>

	
		<tr>
		<th valign="top">Aspect :</th> 
		<td>	
		
<select id="aspectname" name="aspectname" onChange='GetaspectFilter();'>
<option value="">Please select a aspect</option>
	{% for aspect in aspectslist %}
			<option value="{{ aspect.filter }}">{{ aspect.name }}</option>	
	{% endfor %}
</select>
	
		</td>
</tr>
<tr>
<th valign="top">Method:</th> 
<td>
	<select id="aspectmethod" name="aspectmethod">

			<option value="PUT">PUT</option>
			<option value="DELETE">DELETE</option>

</select>
<input hidden type="text" name="aspectnamenew" id="aspectnamenew"></input>
</td>
</tr>
        <tr>
		<th valign="top">Value:</th> 

            <td>
<textarea id="aspectvalue" name="aspectvalue" rows="4" cols="50">
                   		
</textarea> 


            </td>
          
        </tr> 

	<tr>
		<th>&nbsp;</th>
		<td valign="top">
			<input id="advsubmit" type="button" value="" class="form-submit" />
		
			<input type="reset" value="" class="form-reset"  />
		</td>
		<td></td>
	</tr>
	
	</table></form>
</div>
</div>
    
    <div id="ModifyStream" class="tab-pane fade animate-bottom">
      <h3>	&nbsp;	&nbsp; 	New Customer</h3>
      <p><div class="section"> 
 
<h4>New Customer</h4>

	<br><br>
		<form name="addcust" method="post" action="/NewCust/" >
	{% csrf_token %}
		<table border="0" cellpadding="0" cellspacing="0"  id="id-form">

		<tr>
		<th valign="top">New Customer Name:</th> 
		<td>	
	
		
	<input type="text" onfocusout="FunctionLower()" required  id="newcustname" name="newcustname" class="inp-form" />
	
		
		</td>
</tr>

	
		<tr>
		<th valign="top">CP Code:</th> 
		<td>	
		
		
	<input type="number" required id="newcustcpcode" name="newcustcpcode" class="inp-form" />
	
		
		</td>
</tr>

        <tr>
		<th valign="top">Password:</th> 
            <td>
             <input type="hidden" name="length" value="8">
                <input required value="octo"  class="inp-form" name="row_password" type="text" size="30">&nbsp;
                <input type="button" class="button" value="Generate" onClick="generate();" tabindex="2">
            </td>
            	<td>		
            	<a href="#newstream" data-toggle="tooltip" data-placement="right" title="if no stream password is entered during stream creation the default password will be used ">&nbsp; what is this ?</a>
            
            </td>
        </tr> 
        
        
			<tr>
		<th valign="top">Confirmation :</th> 
		<td>	
		
		
	<p id="statuscust" /></p>
	
		
		</td>
</tr>
	
	<tr>
		<th>&nbsp;</th>
		<td valign="top">
			<input id="createcustbtn" type="button" onclick=Confirmnewcust(); value="" class="form-submit" />
		
			<input type="reset" value="" class="form-reset"  />
		</td>
		<td></td>
	</tr>
	
	</table></form>
</div>
	

</form>


 <p>
 
 
 
 
   </p>
 

</div></p>
    </div>
  </div>
</div>


  

	

		<!--  start step-holder -->
	
		<!--  end step-holder -->
	
		<!-- start id-form -->

		


	</td>
	<td>

</td>
</tr>
<tr>
<td><img src="{{ STATIC_URL }}/static/images/shared/blank.gif" width="695" height="1" alt="blank" /></td>
<td></td>
</tr>
</table>

	    	<br><br><br><br><br>
	    </div>
</p>
</details>



 <br>  <br> 

<!--  end content-table-inner  -->
</td>
<td id="tbl-border-right"></td>
</tr>
<tr>
	<th class="sized bottomleft"></th>
	<td id="tbl-border-bottom">&nbsp;</td>
	<th class="sized bottomright"></th>
</tr>
</table>



<script type="text/javascript">
function getme1(){
	document.getElementById("loader2").hidden=false;
	document.getElementById("outputbox1").hidden=true;
	document.getElementById("searchbtn").innerHTML ="Searching ... ";  
	$.ajax({
        		url : "/Holger/", type : "POST",
               	data : {
                  csrfmiddlewaretoken: '{{ csrf_token }}',
                  Holgerinp : $('#Holgerinp').val()	},
                  success : function(x) {
                	  $('#body1').html(x);        	 
                	  document.getElementById("loader2").hidden=true;              	
                                    }
                    
                    });
        
};
</script> 
       <form method="post">
        {% csrf_token %}
        <input hidden id="formv" name="formv" type="text">
        <input hidden id="button" type="button" onclick="doPut()" value="click me"></input>
        
</form>
	 <p name="ret" id="ret">
</p>

<div class="clear">&nbsp;</div>

</div>
<!--  end content -->
<div class="clear">&nbsp;</div>
</div>
<!--  end content-outer -->


<div class="clear">&nbsp;</div>
  
<!-- start footer -->         
<div id="footer">
	<!--  start footer-left -->
	<div id="footer-left">
	<p>           
		
	       &nbsp;  &nbsp; &copy; 
	       <!--Copyright . <a href="">www.Octoshape.com</a>. All rights reserved. --></div>
	       </p>
	<!--  end footer-left -->
	<div class="clear">&nbsp;</div>
</div>
<!-- end footer -->

</div>
	

</body>
</html>